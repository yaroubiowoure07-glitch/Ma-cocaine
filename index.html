<script>
  // Pluie de c≈ìurs et p√©tales
  for (let i = 0; i < 30; i++) {
    let el = document.createElement('div');
    el.className = 'falling';
    el.innerText = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üåπ';
    el.style.left = Math.random() * window.innerWidth + 'px';
    el.style.animationDelay = Math.random() * 10 + 's';
    document.body.appendChild(el);
  }

  for (let i = 0; i < 20; i++) {
    let petal = document.createElement('div');
    petal.className = 'petal';
    petal.innerText = 'üå∏';
    petal.style.left = Math.random() * window.innerWidth + 'px';
    petal.style.animationDelay = Math.random() * 10 + 's';
    document.body.appendChild(petal);
  }

  // Fondu progressif de la musique
  const music = document.getElementById('romanticMusic');
  music.volume = 0;
  music.play();
  let vol = 0;
  const fade = setInterval(() => {
    if (vol < 1) {
      vol += 0.01;
      music.volume = vol;
    } else {
      clearInterval(fade);
    }
  }, 100);

  // G√©n√©ration dynamique des vagues "Fawaz"
  const wavesContainer = document.querySelector('.multi-waves');
  for (let i = 0; i < 10; i++) {
    const wave = document.createElement('div');
    wave.className = 'wave';
    wave.innerText = 'Fawaz';
    wave.style.top = `${i * 40}px`;
    wave.style.left = `${Math.random() * 80}%`;
    wave.style.animationDelay = `${i}s`;
    wavesContainer.appendChild(wave);
  }

  // Choix Oui üíñ
  function choixOui() {
    setTimeout(() => {
      document.getElementById('scene-oui').classList.remove('hidden');
      document.getElementById('scene-non').classList.add('hidden');

      for (let i = 0; i < 30; i++) {
        const heart = document.createElement('div');
        heart.className = 'explosion-heart';
        heart.innerText = '‚ù§Ô∏è';
        heart.style.position = 'absolute';
        heart.style.left = '50%';
        heart.style.top = '50%';
        heart.style.fontSize = '2em';
        heart.style.animation = 'explode 1.5s ease-out forwards';
        heart.style.transform = `translate(${Math.random() * 400 - 200}px, ${Math.random() * 400 - 200}px)`;
        document.body.appendChild(heart);
      }

      document.body.style.background = 'radial-gradient(circle, #ff3366, #000)';
    }, 300);
  }

  // Choix Non üíî
  function choixNon() {
    setTimeout(() => {
      document.getElementById('scene-non').classList.remove('hidden');
      document.getElementById('scene-oui').classList.add('hidden');

      const falling = document.createElement('div');
      falling.className = 'falling-big-heart';
      falling.innerText = 'üíî';
      document.body.appendChild(falling);

      document.body.style.background = 'linear-gradient(to bottom, #000, #330000)';
    }, 300);
  }

  // Emp√™cher les deux cases coch√©es
  document.getElementById('oui').addEventListener('change', function () {
    if (this.checked) {
      document.getElementById('non').checked = false;
      choixOui();
    }
  });

  document.getElementById('non').addEventListener('change', function () {
    if (this.checked) {
      document.getElementById('oui').checked = false;
      choixNon();
    }
  });
</script>
